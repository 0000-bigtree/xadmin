{"version":3,"sources":["webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/base.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/builder.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Array.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Checkbox.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/DateTime.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Fieldset.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/RadioBtn.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Radios.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Select.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Text.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Textarea.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/base.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/index.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/fields.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/index.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/en.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/index.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/zh_Hans.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/schema.js"],"names":["ajv","allErrors","v5","verbose","BaseForm","props","fields","render","option","component","handleSubmit","formProps","build_fields","FormComponent","validateByFields","errors","values","forEach","isFunction","field","validate","name","err","get","isArray","Form","formKey","WrapForm","form","SchemaForm","schema","ajValidate","compile","valid","omitBy","v","undefined","i18n","context","language","reduce","prev","dataPath","length","substr","message","keyword","params","missingProperty","FormWrap","contextTypes","_reduxForm","PropTypes","object","isRequired","getState","store","formState","getFormState","fieldBuilder","objectBuilder","schemaConvert","defaultUIRender","map","fields_defined","load_dict","fields_wraped","filter","type","key","label","normalize","parse","format","group","prefixFieldKey","prefix","f","cf","defaultItemsRender","meta","touched","error","fieldsBuilder","items","push","index","removeBtn","remove","float","itemLable","fieldsComponent","input","renderItems","itemsRender","itemFields","FieldGroup","value","attrs","require","onChange","onBlur","onFocus","inputProps","maxWidth","titleMap","inline","children","groupProps","help","description","size","groupSize","sm","md","lg","control","bsSize","bsStyle","controlComponent","required","InlineGroup","SimpleGroup","Text","Select","Checkbox","Radios","RadioBtn","Textarea","DateTime","Fieldset","ArrayWidget","text","number","previousValue","ret","parseFloat","Number","isNaN","style","integer","parseInt","select","numselect","date","dateFormat","timeFormat","valueFormat","time","viewMode","datetime","bool","Boolean","checkbox","fieldset","array","SubmissionError","app","start","load_list","addKeyword","args","addFormat","reducers","plugins","plugin","form_fields","schema_converter","i","e","out","pname","title","en","zh_Hans","ref","n","limit","constantName","depsCount","property","deps","cond","comparison","multipleOf","pattern","reason","missingPattern","caseIndex","j","stripNullType","Array","enumToTitleMap","enm","canonicalTitleMap","originalEnum","canonical","k","hasOwnProperty","convert","options","opts","path","lookup","convert_key","prve","converter","global","formDefaults","cloneDeep","converters","readonly","fieldKey","join","startCase","indexOf","maxLength","maxlength","minLength","minlength","minimum","exclusiveMinimum","maximum","exclusiveMaximum","validationMessage","enumNames","properties","ignore","keys","idx","slice","concat","Object","pk","merge","form_render","schema_type"],"mappings":"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","file":"0.35e3048f33eb5f4abfca.hot-update.js","sourcesContent":["import React from 'react'\nimport { Field, reducer as formReducer, reduxForm } from 'redux-form'\nimport { StoreWrap, app } from 'xadmin-core'\nimport { fieldBuilder, objectBuilder } from './builder'\n\nimport Ajv from 'ajv'\nimport _ from 'lodash'\nimport ajvLocalize from './locales'\nimport { convert as schemaConvert } from './schema'\n\nconst ajv = new Ajv({ allErrors: true, v5: true, verbose: true })\n\nconst BaseForm = (props) => {\n  const { fields, render, option, component, handleSubmit, ...formProps } = props\n  const build_fields = objectBuilder(fields, render, { ...option, ...formProps })\n  if(component) {\n    const FormComponent = component\n    return <FormComponent {...props} >{build_fields}</FormComponent>\n  } else {\n    return (\n      <form className=\"form-horizontal\" onSubmit={handleSubmit}>{build_fields}</form>\n    )\n  }\n}\n\nconst validateByFields = (errors, values, fields) => {\n  fields.forEach(field => {\n    if(_.isFunction(field.validate)) {\n      const name = field.name\n      const err = field.validate(_.get(values, field.name) || null, values)\n      if(_.isArray(err)) {\n        errors[name] = [ ...(errors[name] || []), ...err ]\n      } else if(err) {\n        errors[name] = [ ...(errors[name] || []), err ]\n      }\n    }\n  })\n  return errors\n}\n\nconst Form = (props) => {\n  const { formKey, validate, fields } = props\n  const WrapForm = reduxForm({ \n    form: formKey,\n    validate: (values) => {\n      let errors = validate ? validate(values) : {}\n      return validateByFields(errors, values, fields)\n    }\n  })(BaseForm)\n  return <WrapForm {...props}/>\n}\n\nconst SchemaForm = (props) => {\n  const { formKey, schema } = props\n  const ajValidate = ajv.compile(schema)\n  const fields = schemaConvert(schema).fields\n  \n  const WrapForm = reduxForm({ \n    form: formKey,\n    validate: (values) => {\n      const valid = ajValidate(_.omitBy(values, v=> v == null || v === undefined || v === ''))\n      if(!valid) {\n        const { i18n } = app.context\n        if(ajvLocalize[i18n.language]) {\n          ajvLocalize[i18n.language](ajValidate.errors)\n        }\n      }\n      let errors = valid ? {} : ajValidate.errors.reduce((prev, err) => {\n        if(err.dataPath.length > 1) {\n          prev[err.dataPath.substr(1)] = err.message\n        } else if(err.dataPath == '' && err.keyword == 'required') {\n          prev[err.params.missingProperty] = err.message\n        }\n        return prev\n      }, {})\n      errors = validateByFields(errors, values, fields)\n      return errors\n    }\n  })(BaseForm)\n  return <WrapForm fields={fields} {...props}/>\n}\n\nconst FormWrap = StoreWrap({\n  contextTypes: {\n    _reduxForm: React.PropTypes.object.isRequired\n  },\n  getState: (context) => {\n    const { store, _reduxForm } = context\n    return { form: _reduxForm, formState: _reduxForm.getFormState(store.getState()) }\n  }\n})\n\nexport default {\n  BaseForm,\n  Form,\n  SchemaForm,\n  FormWrap,\n  fieldBuilder,\n  objectBuilder,\n  schemaConvert\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/base.js","import React from 'react'\nimport { Field, reduxForm, reducer as formReducer } from 'redux-form'\nimport { app, StoreWrap } from 'xadmin-core'\nimport { FieldGroup } from './components/base'\n\nconst defaultUIRender = (fields, option) => {\n  return fields.map(field => fieldBuilder(field, option))\n}\n\nconst objectBuilder = (fields, render, option) => {\n  const fields_defined = app.load_dict('form_fields')\n  const fields_wraped = fields\n    .filter(field => field.type === undefined || fields_defined[field.type] !== undefined)\n    .map(field => { return { ...fields_defined[field.type || 'text'], ...field, option } })\n\n  return (render || defaultUIRender)(fields_wraped, option)\n}\n\nconst fieldBuilder = (field, option, ...props) => {\n  return (<Field key={field.key} name={field.name} label={field.label} \n    normalize={field.normalize} parse={field.parse} format={field.format}\n    component={field.component} field={field} \n    group={field.group || (option && option.group ? option.group : FieldGroup)} \n    option={option}\n    {...props} />)\n}\n\nconst prefixFieldKey = (field, prefix) => {\n  const f = { ...field, key: prefix + field.key, name: prefix + field.name }\n  if(field.fields && field.fields.length > 0) {\n    f.fields = field.fields.map(cf => prefixFieldKey(cf, prefix))\n  }\n  return f\n}\n\nexport default {\n  defaultUIRender,\n  objectBuilder,\n  fieldBuilder,\n  prefixFieldKey\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/builder.js","import React from 'react'\nimport { FieldArray } from 'redux-form'\nimport { FieldGroup } from './base'\nimport { Panel, Button, PanelGroup } from 'react-bootstrap'\nimport { objectBuilder, prefixFieldKey } from '../builder'\nimport Icon from 'react-fontawesome'\nimport app from 'xadmin-core'\n\nconst defaultItemsRender = ({ fields, meta: { touched, error }, field, fieldsBuilder }) => {\n  const { items, label } = field\n  return (\n    <div>\n      <h5>{label}{' '}\n      <Button bsSize=\"xsmall\" onClick={() => fields.push()}><Icon name=\"plus\"/></Button></h5>\n      <PanelGroup accordion>\n        {fields.map((name, index) => {\n          const removeBtn = (<Button bsSize=\"xsmall\" onClick={() => fields.remove(index)} style={{ float: 'right' }}><Icon name=\"minus\"/></Button>)\n          const itemLable = (<h6>{label + ' ' + (index + 1)}{removeBtn}</h6>)\n          const fieldsComponent = fieldsBuilder(name, index, removeBtn)\n          return fieldsComponent.length > 1 ? (\n            <Panel header={itemLable} eventKey={index} key={`items${index}`}>\n            {fieldsComponent}\n            </Panel>\n          ) : (\n            <div>{fieldsComponent}</div>\n          )\n        })}\n      </PanelGroup>\n      {(touched && error) ? error : null}\n    </div>\n  )\n}\n\nexport default ({ input, label, meta: { touched, error }, field, option }) => {\n  let renderItems = field.itemsRender || defaultItemsRender\n  if(typeof renderItems === 'string') {\n    renderItems = app.load_dict('array_render')[renderItems]\n  }\n  const { items } = field\n  const fieldsBuilder = (name, index, removeBtn, itemLable) => {\n    const label = itemLable || (<div>{removeBtn ? removeBtn : ''}{label + ' ' + (index + 1)}</div>)\n    const itemFields = items.fields ? \n      (items.fields.map(f => prefixFieldKey(f, name + '.'))) : \n      [ { ...items, key: name, name: name, label } ]\n\n    return objectBuilder(itemFields, items.render, option)\n  }\n  return <FieldArray name={field.name} label={label} component={renderItems} field={field} fieldsBuilder={fieldsBuilder} />\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Array.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { FormControl, Checkbox } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={''} meta={meta} input={input} field={field}>\n      <Checkbox checked={!!input.value} {...input} {...field.attrs} >{label}</Checkbox>\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Checkbox.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport moment from 'moment'\nimport Icon from 'react-fontawesome'\nimport { FormControl, InputGroup } from 'react-bootstrap'\nimport DateTimeField from 'react-datetime'\nrequire('react-datetime/css/react-datetime.css')\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  const { onChange, onBlur, onFocus, value, ...inputProps } = input\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <InputGroup style={{ maxWidth: 280 }}>\n        <DateTimeField inputProps={inputProps} onChange={onChange} onBlur={onBlur} onFocus={onFocus} {...field.attrs} value={moment(value)} />\n        <InputGroup.Addon><Icon name=\"calendar\"/></InputGroup.Addon>\n      </InputGroup>\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/DateTime.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { Panel } from 'react-bootstrap'\nimport { objectBuilder } from '../builder'\n\nexport default ({ input, label, meta: { touched, error }, field, group, option }) => {\n  return (\n    <Panel collapsible defaultExpanded header={<h3>{label}</h3>}>\n      {objectBuilder(field.fields, field.render, { ...option, group })}\n    </Panel>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Fieldset.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { Radio, Button, ButtonToolbar } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <ButtonToolbar>\n      {field.titleMap.map(option => { \n        return (<Button key={option.value} \n          bsStyle={option.value==input.value?'primary':'default'} active={option.value==input.value} \n          {...input} \n          onClick={()=>{input.onChange(option.value)}}>{option.name}</Button>) \n      })}\n      </ButtonToolbar>\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/RadioBtn.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { Radio } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  const inline = field.attrs !== undefined && !!field.attrs.inline\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      {field.titleMap.map(option => { return (<Radio key={option.value} checked={option.value==input.value} inline={inline} {...input} value={option.value}> {option.name}</Radio>) })}\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Radios.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { FormControl } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <FormControl componentClass=\"select\" \n        {...input} >\n        {[ { name: '----', value: '' }, ...field.titleMap ].map(option => { return (<option key={option.name} value={option.value}>{option.name}</option>) })}\n      </FormControl>\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Select.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { FormControl, InputGroup } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <FormControl {...input} {...field.attrs} />\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Text.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { FormControl } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <FormControl componentClass=\"textarea\" {...input} {...field.attrs} />\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Textarea.js","import React from 'react'\nimport { FormGroup, ControlLabel, FormControl, Col, HelpBlock } from 'react-bootstrap'\n\nconst FieldGroup = ({ label, meta, input, field, children }) => {\n  const groupProps = {}\n  const attrs = field.attrs || {}\n  const error = meta.touched && meta.error\n  const help = field.description || field.help\n  const size = (field.option && field.option.groupSize) || attrs.groupSize || { \n    label: {\n      sm: 4, md: 3, lg: 2 \n    },\n    control: {\n      sm: 8, md: 9, lg: 10\n    }\n  }\n\n  if (error) {\n    groupProps['validationState'] = 'error'\n  }\n  if (attrs.bsSize) {\n    groupProps['bsSize'] = attrs.bsSize\n  }\n  if (attrs.bsStyle) {\n    groupProps['bsStyle'] = attrs.bsStyle\n  }\n\n  const controlComponent = children ? children : (<FormControl {...input} {...attrs} />)\n  return (\n    <FormGroup controlId={input.name} {...groupProps}>\n      <Col key={0} componentClass={ControlLabel} {...size.label}>\n        {label}{field && field.required ? <span className=\"text-danger\">*</span> : ''}\n      </Col>\n      <Col key={1} {...size.control}>\n        {controlComponent}\n        <FormControl.Feedback />\n        {help && <HelpBlock>{help}</HelpBlock>}\n        {error && <HelpBlock>{error}</HelpBlock>}\n      </Col>\n    </FormGroup>\n    )\n}\n\nconst InlineGroup = ({ label, meta, input, field, children }) => {\n  const groupProps = {}\n  const attrs = field.attrs || {}\n  const error = meta.touched && meta.error\n  const help = field.description || field.help\n\n  if (error) {\n    groupProps['validationState'] = 'error'\n  }\n  if (attrs.bsSize) {\n    groupProps['bsSize'] = attrs.bsSize\n  }\n  if (attrs.bsStyle) {\n    groupProps['bsStyle'] = attrs.bsStyle\n  }\n\n  const controlComponent = children ? children : (<FormControl {...input} {...attrs} placeholder={label} />)\n  return (\n    <FormGroup controlId={input.name} {...groupProps}>\n      <Col sm={12}>\n        {controlComponent}\n        {help && <HelpBlock>{help}</HelpBlock>}\n        {error && <HelpBlock>{error}</HelpBlock>}\n      </Col>\n    </FormGroup>\n    )\n}\n\nconst SimpleGroup = ({ label, meta, input, field, children }) => {\n  const groupProps = {}\n  const attrs = field.attrs || {}\n  const error = meta.touched && meta.error\n  const help = field.description || field.help\n\n  if (error) {\n    groupProps['validationState'] = 'error'\n  }\n  if (attrs.bsSize) {\n    groupProps['bsSize'] = attrs.bsSize\n  }\n  if (attrs.bsStyle) {\n    groupProps['bsStyle'] = attrs.bsStyle\n  }\n\n  const controlComponent = children ? children : (<FormControl {...input} {...attrs} placeholder={label} />)\n  return (\n    <FormGroup controlId={input.name} {...groupProps}>\n      <ControlLabel>{label}{field && field.required ? <span className=\"text-danger\">*</span> : ''}</ControlLabel>\n      {controlComponent}\n      {help && <HelpBlock>{help}</HelpBlock>}\n      {error && <HelpBlock>{error}</HelpBlock>}\n    </FormGroup>\n    )\n}\n\nexport default {\n  FieldGroup,\n  InlineGroup,\n  SimpleGroup\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/base.js","import Text from './Text'\nimport Select from './Select'\n//import Selectize from './Selectize'\nimport Checkbox from './Checkbox'\nimport Radios from './Radios'\nimport RadioBtn from './RadioBtn'\nimport Textarea from './Textarea'\nimport DateTime from './DateTime'\nimport Fieldset from './Fieldset'\nimport ArrayWidget from './Array'\n\nexport default {\n  Text,\n  Select,\n  Checkbox,\n  Radios,\n  RadioBtn,\n  Textarea,\n  DateTime,\n  Fieldset,\n  ArrayWidget\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/index.js","import widgets from './components'\n\nexport default {\n  text: {\n    component: widgets.Text\n  },\n  number: {\n    component: widgets.Text,\n    normalize: (value, previousValue) => {\n      const ret = parseFloat(value)\n      return Number.isNaN(ret) ? value : ret\n    },\n    attrs: {\n      type: 'number',\n      style: { maxWidth: 200 }\n    }\n  },\n  integer: {\n    component: widgets.Text,\n    normalize: (value, previousValue) => {\n      const ret = parseInt(value)\n      return Number.isNaN(ret) ? value : ret\n    },\n    attrs: {\n      type: 'number',\n      style: { maxWidth: 200 }\n    }\n  },\n  select: {\n    component: widgets.Select\n  },\n  numselect: {\n    component: widgets.Select,\n    normalize: (value, previousValue) => {\n      const ret = parseFloat(value)\n      return Number.isNaN(ret) ? value : ret\n    }\n  },\n  date: {\n    component: widgets.DateTime,\n    normalize: (value, previousValue) => {\n      return (value && value.format) ? value.format('YYYY-MM-DD') : value || previousValue\n    },\n    attrs: {\n      dateFormat: true,\n      timeFormat: false,\n      valueFormat: 'L'\n    }\n  },\n  time: {\n    component: widgets.DateTime,\n    normalize: (value, previousValue) => {\n      return (value && value.format) ? value.format('HH:mm:ss') : value || previousValue\n    },\n    attrs: {\n      dateFormat: false,\n      timeFormat: true,\n      viewMode: 'time',\n      valueFormat: 'LT'\n    }\n  },\n  datetime: {\n    component: widgets.DateTime,\n    normalize: (value, previousValue) => {\n      return (value && value.format) ? value.format('YYYY-MM-DD HH:mm:ss') : value || previousValue\n    },\n    attrs: {\n      dateFormat: true,\n      timeFormat: true,\n      valueFormat: 'L LT'\n    }\n  },\n  bool: {\n    component: widgets.Checkbox,\n    normalize: (value, previousValue) => {\n      return Boolean(value)\n    }\n  },\n  checkbox: {\n    component: widgets.Checkbox\n  },\n  fieldset: {\n    component: widgets.Fieldset\n  },\n  array: {\n    component: widgets.ArrayWidget\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/fields.js","import React from 'react'\nimport { Field, reduxForm, reducer as formReducer, SubmissionError } from 'redux-form'\nimport Ajv from 'ajv'\nimport default_fields from './fields'\nimport { converters } from './schema'\n\nimport {\n  BaseForm,\n  Form,\n  SchemaForm,\n  FormWrap,\n  fieldBuilder,\n  objectBuilder,\n  schemaConvert\n} from './base'\n\nconst ajv = new Ajv({ allErrors: true })\n\nexport default {\n  BaseForm,\n  Form,\n  SchemaForm,\n  FormWrap,\n  fieldBuilder,\n  objectBuilder,\n  schemaConvert,\n  SubmissionError,\n  app: {\n    start: (app) => () => {\n      app.load_list('ajv_key').forEach(args => {\n        ajv.addKeyword(args[0], args[1])\n      })\n      app.load_list('ajv_format').forEach(args => {\n        ajv.addFormat(args[0], args[1])\n      })\n    },\n    reducers: (app) => {\n      const plugins = app.load_dict('form_reducer')\n      return { form: formReducer.plugin(plugins) }\n    },\n    form_fields: default_fields,\n    schema_converter: converters\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/index.js","import { en } from 'ajv-i18n'\n\nexport default (errors) => {\n  en(errors)\n\n  if (!(errors && errors.length)) return\n  for (let i = 0 ; i < errors.length; i++) {\n    let e = errors[i]\n    let out\n    let schema = e.schema\n    switch (e.keyword) {\n      case 'required': {\n        const pname = e.params.missingProperty\n        out = ((e.schema[pname] && e.schema[pname].title) || pname) + ' should required'\n        break\n      }\n      default:\n        continue\n    }\n    e.message = out\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/en.js","import ajvI18N from 'ajv-i18n'\nimport zh_Hans from './zh_Hans'\nimport en from './en'\n\nexport default {\n  ...ajvI18N,\n  en,\n  zh_Hans \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/index.js","\nexport default (errors) => {\n  if (!(errors && errors.length)) return\n  for (let i = 0 ; i < errors.length; i++) {\n    let e = errors[i]\n    let out\n    let schema = e.schema\n    switch (e.keyword) {\n      case '$ref': {\n        out = '无法找到引用' + (e.params.ref)\n        break\n      }\n      case 'additionalItems': {\n        out = ''\n        let n = e.params.limit\n        out += '不允许超过' + (n) + '个元素'\n        break\n      }\n      case 'additionalProperties': {\n        out = '不允许有额外的属性'\n        break\n      }\n      case 'anyOf': {\n        out = '数据应为 anyOf 所指定的其中一个'\n        break\n      }\n      case 'constant': {\n        out = schema.constantName ? ('与 ' + schema.constantName + ' 不相等') : '应当等于常量'\n        break\n      }\n      case 'custom': {\n        out = '应当通过 \"' + (e.keyword) + ' 关键词校验\"'\n        break\n      }\n      case 'dependencies': {\n        out = ''\n        let n = e.params.depsCount\n        out += '应当拥有属性' + (e.params.property) + '的依赖属性' + (e.params.deps)\n        break\n      }\n      case 'enum': {\n        out = '应当是预设定的枚举值之一'\n        break\n      }\n      case 'format': {\n        out = '应当匹配格式' + (e.params.format)\n        break\n      }\n      case 'formatExclusiveMaximum': {\n        out = 'formatExclusiveMaximum 应当是布尔值'\n        break\n      }\n      case 'formatExclusiveMinimum': {\n        out = 'formatExclusiveMinimum 应当是布尔值'\n        break\n      }\n      case 'formatMaximum': {\n        out = ''\n        let cond = e.params.comparison + ' ' + e.params.limit\n        out += '应当是 ' + (cond)\n        break\n      }\n      case 'formatMinimum': {\n        out = ''\n        let cond = e.params.comparison + ' ' + e.params.limit\n        out += '应当是 ' + (cond)\n        break\n      }\n      case 'maxItems': {\n        out = ''\n        let n = e.params.limit\n        out += '不应多于 ' + (n) + ' 个项'\n        break\n      }\n      case 'maxLength': {\n        out = ''\n        let n = e.params.limit\n        out += '不应多于 ' + (n) + ' 个字符'\n        break\n      }\n      case 'maxProperties': {\n        out = ''\n        let n = e.params.limit\n        out += '不应有多于 ' + (n) + ' 个属性'\n        break\n      }\n      case 'maximum': {\n        out = ''\n        let cond = e.params.comparison + ' ' + e.params.limit\n        out += '应当为 ' + (cond)\n        break\n      }\n      case 'minItems': {\n        out = ''\n        let n = e.params.limit\n        out += '不应少于 ' + (n) + ' 个项'\n        break\n      }\n      case 'minLength': {\n        out = ''\n        let n = e.params.limit\n        out += '不应少于 ' + (n) + ' 个字符'\n        break\n      }\n      case 'minProperties': {\n        out = ''\n        let n = e.params.limit\n        out += '不应有少于 ' + (n) + ' 个属性'\n        break\n      }\n      case 'minimum': {\n        out = ''\n        let cond = e.params.comparison + ' ' + e.params.limit\n        out += '应当为 ' + (cond)\n        break\n      }\n      case 'multipleOf': {\n        out = '应当是 ' + (e.params.multipleOf) + ' 的整数倍'\n        break\n      }\n      case 'not': {\n        out = '不应当匹配 \"not\" schema'\n        break\n      }\n      case 'oneOf': {\n        out = '只能匹配一个 oneOf 中的 schema'\n        break\n      }\n      case 'pattern': {\n        out = '应当匹配模式 \"' + (e.params.pattern) + '\"'\n        break\n      }\n      case 'patternGroups': {\n        out = ''\n        let n = e.params.limit\n        out += '应当有 ' + (n) + ' 个 ' + (e.params.reason) + ' 属性满足模式 ' + (e.params.pattern)\n        break\n      }\n      case 'patternRequired': {\n        out = '应当有属性匹配模式 ' + (e.params.missingPattern)\n        break\n      }\n      case 'required': {\n        const pname = e.params.missingProperty\n        out = ((e.schema[pname] && e.schema[pname].title) || pname) + '不能为空'\n        break\n      }\n      case 'switch': {\n        out = '由于 ' + (e.params.caseIndex) + ' 失败，未通过 \"switch\" 校验, '\n        break\n      }\n      case 'type': {\n        out = '应当是 ' + (e.params.type) + ' 类型'\n        break\n      }\n      case 'uniqueItems': {\n        out = '不应当含有重复项 (第 ' + (e.params.j) + ' 项与第 ' + (e.params.i) + ' 项是重复的)'\n        break\n      }\n      default:\n        continue\n    }\n    e.message = out\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/zh_Hans.js","import _ from 'lodash'\nimport { app } from 'xadmin-core'\n\nconst stripNullType = (type) => {\n  if(Array.isArray(type) && type.length == 2) {\n    if (type[0] === 'null')\n      return type[1]\n    if (type[1] === 'null')\n      return type[0]\n  }\n  return type\n}\n\nconst enumToTitleMap = (enm, title) => {\n  let titleMap = []\n  enm.forEach((name, index) => {\n    titleMap.push({ name: \n      title != undefined ? (( _.isArray(title) ? title[index] : title[name] )  || name) : name, value: name })\n  })\n  return titleMap\n}\n\nconst canonicalTitleMap = (titleMap, originalEnum) => {\n  if(!_.isArray(titleMap)) {\n    let canonical = []\n    if (originalEnum) {\n      originalEnum.forEach(value => {\n        canonical.push({ name: titleMap[value], value: value })\n      })\n    } else {\n      for(let k in titleMap) {\n        if (titleMap.hasOwnProperty(k)) {\n          canonical.push({ name: k, value: titleMap[k] })\n        }\n      }\n    }\n    return canonical\n  }\n  return titleMap\n}\n\nconst convert = (schema, options) => {\n  const opts = options || {}\n  if(opts.path === undefined) {\n    opts.path = []\n  }\n  if(opts.lookup === undefined) {\n    opts.lookup = {}\n  }\n  return app.load_list(opts.convert_key || 'schema_converter').reduce((prve, converter) => {\n    return converter(prve, schema, opts)\n  }, opts.global && opts.global.formDefaults ? _.cloneDeep(opts.global.formDefaults) : {})\n}\n\nconst converters = [\n  // all form field\n  (f, schema, options) => {\n    const { path, readonly, required, lookup } = options\n\n    const fieldKey = path.length > 0 ? path[path.length - 1] : undefined\n    f.key = path.join('.')\n\n    f.name = f.key\n    f.label = schema.title || _.startCase(fieldKey)\n\n    if(fieldKey !== undefined) {\n      if (readonly && readonly.indexOf(fieldKey) !== -1) { f.readonly  = true }\n      if (required && required.indexOf(fieldKey) !== -1) { f.required  = true }\n    }\n\n    if (schema.description) { f.description = schema.description }\n    if (schema.maxLength) { f.maxlength = schema.maxLength }\n    if (schema.minLength) { f.minlength = schema.minLength }\n    if (schema.minimum) { f.minimum = schema.minimum + (schema.exclusiveMinimum ? 1 : 0) }\n    if (schema.maximum) { f.maximum = schema.maximum - (schema.exclusiveMaximum ? 1 : 0) }\n\n    if (schema.validationMessage) { f.validationMessage = schema.validationMessage }\n    if (schema.enumNames) { f.titleMap = canonicalTitleMap(schema.enumNames, schema['enum']) }\n\n    f.schema = schema\n    lookup[f.key] = f\n\n    return f\n  },\n  // object\n  (f, schema, options) => {\n    if(stripNullType(schema.type) === 'object') {\n      f.type = 'fieldset'\n\n      const props = schema.properties\n      const opts = { ...options }\n\n      opts.required = schema.required || []\n      opts.readonly = schema.readonly || []\n      opts.ignore = schema.ignore || []\n\n      let { keys, form } = (schema.form || [ '*' ]).reduce((ret, field) => {\n        if(typeof field === 'string') {\n          if(field != '*' || ret.keys.indexOf('*') == -1) {\n            ret.keys.push(field)\n          }\n          if(field != '*') {\n            ret.form[field] = { key: field }\n          }\n        } else if( field.key !== undefined) {\n          ret.keys.push(field.key)\n          ret.form[field.key] = field\n        }\n        return ret\n      }, { keys: [], form: {} })\n\n      const idx = keys.indexOf('*')\n\n      if(idx !== -1) {\n        keys = keys.slice(0, idx)\n          .concat(Object.keys(props).filter(pk => keys.indexOf(pk) == -1))\n          .concat(keys.slice(idx + 1))\n      }\n\n      const fields = keys.filter(key => opts.ignore.indexOf(key) === -1).map(key => {\n        opts.path = [ ...options.path, key ]\n        return props[key] !== undefined ? _.merge(convert(props[key], opts), form[key] || {}) : form[key]\n      })\n\n      f.render = schema.form_render\n      f.fields = fields\n    }\n    return f\n  },\n  // array\n  (f, schema, options) => {\n    if(stripNullType(schema.type) === 'array') {\n      f.type = 'array'\n\n      if(typeof schema.items !== 'undefined') {\n        f.items = convert(schema.items, { ...options, path: [] })\n      }\n      if(schema.itemsRender)\n        f.itemsRender = schema.itemsRender\n    }\n    return f\n  },\n  // all normal type form field\n  (f, schema, options) => {\n    if(f.type !== undefined) {\n      return f\n    }\n    const schema_type = stripNullType(schema.type)\n    if(schema_type === 'string') {\n      if(!schema['enum']) {\n        f.type = 'text'\n      } else {\n        f.type = 'select'\n        if (!f.titleMap) {\n          f.titleMap = enumToTitleMap(schema['enum'], schema['enum_title'] || {})\n        }\n      }\n      switch(schema.format) {\n        case 'date':\n          f.type = 'date'\n          break\n        case 'time':\n          f.type = 'time'\n          break\n        case 'datetime':\n          f.type = 'datetime'\n          break\n      }\n    } else if(schema_type === 'number') {\n      if(!schema['enum']) {\n        f.type = 'number'\n      } else {\n        f.type = 'numselect'\n        if (!f.titleMap) {\n          f.titleMap = enumToTitleMap(schema['enum'], schema['enum_title'] || {})\n        }\n      }\n    } else if(schema_type === 'integer') {\n      if(!schema['enum']) {\n        f.type = 'integer'\n      } else {\n        f.type = 'numselect'\n        if (!f.titleMap) {\n          f.titleMap = enumToTitleMap(schema['enum'], schema['enum_title'] || {})\n        }\n      }\n    } else if(schema_type === 'boolean') {\n      f.type = 'checkbox'\n    }\n    return f\n  }\n]\n\nexport {\n  convert,\n  converters\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/schema.js"],"sourceRoot":""}