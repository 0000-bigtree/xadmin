{"version":3,"sources":["webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-core/src/index.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/base.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/builder.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Array.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Checkbox.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/DateTime.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Fieldset.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/RadioBtn.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Radios.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Select.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Text.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Textarea.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/base.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/index.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/fields.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/index.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/en.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/index.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/zh_Hans.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/schema.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-i18n/src/index.js","webpack:////Users/tianmiao/workspace/xadmin3/packages/xadmin-i18n/src/zh_Hans/translation.json","webpack:///./index.js"],"names":["App","apps","context","_cache","app","push","name","filter","value","length","constructor","it","go","result","done","then","v","next","error","throw","key","load_reducer","init_state","undefined","reduce","prev","self","load_apps","get_value","concat","values","com_value","Array","isArray","init_context","cb","load_list","err","forEach","starter","level","message","logger","log","toString","redux_app","devtools","window","devToolsExtension","noop","enhancers","enhance_reducer","reducer","reducer_enhance","load_dict_list","reducers","state","action","combine_reducer","create_reducers","reducers_map","store","start","listeners","listener","subscribe","callback","sagaMiddleware","sage_app","runSaga","run","effects","middlewares","react_app","uri","router","routerType","config","browser","hash","container","document","querySelector","rs","find_childs","path","map","r","childs","childRoutes","routers","RootComponent","PrevComponent","render","react_redux_app","root_component","__app","use","Block","tag","element","props","blocks","block","ret","nodes","BlockTag","children","extraProps","nextVersion","getDisplayName","WrappedComponent","displayName","shallowEqual","objA","objB","keysA","Object","keys","keysB","hasOwn","prototype","hasOwnProperty","i","call","_wrap_component","wrappers","defaultMapper","connectDisplayName","version","Connect","stateContext","getState","clearCache","trySubscribe","wrapper","unsubscribe","handleChange","bind","getMappers","mapper","event","mount","runBindMethod","tryUnsubscribe","unmount","nextProps","receiveProps","methodProps","dataProps","computeProps","wrapProps","mappers","data","compute","method","args","bindMethod","methods","bindMethods","e","nextDataProps","computeDataProps","newState","haveDataPropsChanged","updateDataProps","forceUpdate","computeComputeProps","computeMethodProps","computeWrapProps","createElement","Component","contextTypes","componentWillUpdate","_wrap","magic","arg1","arg2","component","Wrap","PropTypes","object","isRequired","StoreWrap","dispatch","default_value","load_dict","ajv","allErrors","v5","verbose","BaseForm","fields","option","handleSubmit","formProps","build_fields","FormComponent","validateByFields","errors","isFunction","field","validate","get","Form","formKey","WrapForm","form","SchemaForm","schema","ajValidate","compile","valid","omitBy","i18n","language","dataPath","substr","keyword","params","missingProperty","FormWrap","_reduxForm","formState","getFormState","fieldBuilder","objectBuilder","schemaConvert","defaultUIRender","fields_defined","fields_wraped","type","label","normalize","parse","format","group","prefixFieldKey","prefix","f","cf","defaultItemsRender","meta","touched","fieldsBuilder","items","index","removeBtn","remove","float","itemLable","fieldsComponent","input","renderItems","itemsRender","itemFields","FieldGroup","attrs","require","onChange","onBlur","onFocus","inputProps","maxWidth","titleMap","inline","groupProps","help","description","size","groupSize","sm","md","lg","control","bsSize","bsStyle","controlComponent","required","InlineGroup","SimpleGroup","Text","Select","Checkbox","Radios","RadioBtn","Textarea","DateTime","Fieldset","ArrayWidget","text","number","previousValue","parseFloat","Number","isNaN","style","integer","parseInt","select","numselect","date","dateFormat","timeFormat","valueFormat","time","viewMode","datetime","bool","Boolean","checkbox","fieldset","array","module","addKeyword","addFormat","plugins","plugin","form_fields","schema_converter","SubmissionError","out","pname","title","en","zh_Hans","ref","n","limit","constantName","depsCount","property","deps","cond","comparison","multipleOf","pattern","reason","missingPattern","caseIndex","j","stripNullType","enumToTitleMap","enm","canonicalTitleMap","originalEnum","canonical","k","convert","options","opts","lookup","convert_key","prve","converter","global","formDefaults","cloneDeep","converters","readonly","fieldKey","join","startCase","indexOf","maxLength","maxlength","minLength","minlength","minimum","exclusiveMinimum","maximum","exclusiveMaximum","validationMessage","enumNames","properties","ignore","idx","slice","pk","merge","form_render","schema_type","locales","translation","resources","locale","ln","init","debug","lng","fallbackLng","keySeparator","nsSeparator","t","moment","_t","console","Hello","count","add","FormLayout","invalid","submitSucceeded","submitting","isCreate","enum","onSubmit","hello"],"mappings":"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","file":"app-1785e3e81be842b36561.js","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider, connect } from 'react-redux'\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux'\nimport createSagaMiddleware, { takeEvery, takeLatest } from 'redux-saga'\nimport { Router, DefaultRoute, browserHistory, hashHistory } from 'react-router'\nimport { fork } from 'redux-saga/effects'\nimport isPlainObject from 'lodash/isPlainObject'\nimport waterfall from 'async/waterfall'\n\nclass App {\n\n  constructor() {\n    this.apps = []\n    this.context = {}\n    this._cache = {}\n  }\n\n  use(app) {\n    this.apps.push(app.app || app)\n    return this\n  }\n\n  unuse(name) {\n    this.apps = this.apps.filter(app => app.name != name)\n    return this\n  }\n\n  get_value(value) {\n    if(typeof value == 'function' && value.length == 1) {\n      if(value.constructor.name == 'GeneratorFunction') {\n        const it = value(this)\n        const go = (result) => {\n          if (result.done) return result.value\n          return result.value.then((v) => {\n            return go(it.next(v))\n          }, (error) => {\n            return go(it.throw(error))\n          })\n        }\n        return it\n      } else {\n        return value(this)\n      }\n    } else {\n      return value\n    }\n  }\n\n  load_apps(key, load_reducer, init_state = {}) {\n    if(this._cache[key] == undefined) {\n      this._cache[key] = this.apps.reduce((prev, app) => {\n        return app[key] !== undefined ? load_reducer(prev, app[key]) : prev\n      } , init_state) || init_state\n    }\n    return this._cache[key]\n  }\n\n  load_dict(key) {\n    const self = this\n    return this.load_apps(key, (prev, value) => {\n      return { ...prev, ...self.get_value(value) }\n    }, {})\n  }\n\n  load_list(key) {\n    const self = this\n    return this.load_apps(key, (prev, value) => {\n      return prev.concat(self.get_value(value))\n    }, [])\n  }\n\n  load_dict_list(key) {\n    const self = this\n    return this.load_apps(key, (prev, value) => {\n      const values = self.get_value(value)\n      for(const key in values) {\n        prev[key] = (prev[key] || [])\n        const com_value = values[key]\n        if(Array.isArray(com_value)) {\n          prev[key] = prev[key].concat(com_value)\n        } else {\n          prev[key].push(com_value)\n        }\n      }\n      return prev\n    }, {})\n  }\n\n  start(init_context={}) {\n    const self = this\n\n    waterfall([ (cb) => { cb(null, init_context) }, ...this.load_list('context') ],\n      (err, context) => {\n        self.context = context\n        self.load_list('start').forEach((starter) => {\n          starter(self)\n        })\n      })\n  }\n\n  log(level, message, error) {\n    this.load_list('logger').forEach(logger => logger(level, message, error))\n  }\n\n  error(err) {\n    this.log('error', err.toString(), err)\n  }\n}\n\n// redux app\nconst redux_app = {\n  context: (app) => (context, cb) => {\n\n    const devtools = window.devToolsExtension || (() => noop => noop)\n    const enhancers = [\n      applyMiddleware(...app.load_list('middlewares')),\n      ...app.load_list('store_enhancers'),\n      devtools()\n    ]\n\n    const enhance_reducer = (key, reducer) => {\n      const reducer_enhance = app.load_dict_list('reducer_enhance')\n      if(reducer_enhance[key] !== undefined) {\n        const reducers = [ reducer, ...reducer_enhance[key] ]\n        return (state, action) => {\n          return reducers.reduce((prev, reducer) => reducer(prev, action), state)\n        }\n      }\n      return reducer\n    }\n\n    const combine_reducer = (key, reducers) => {\n      if(reducers.length > 1) {\n        return (state, action) => {\n          return reducers.reduce((prev, reducer) => reducer(prev, action) , state)\n        }\n      } else {\n        return reducers[0]\n      }\n    }\n    \n    const create_reducers = () => {\n      const reducers_map = app.load_dict_list('reducers')\n      let reducers = {}\n      for(const key in reducers_map) {\n        reducers[key] = combine_reducer(key, reducers_map[key])\n      }\n      return combineReducers(reducers)\n    }\n\n    // create store\n    const store = createStore(\n      create_reducers(),\n      context['initial_state'] || {},\n      compose(...enhancers)\n    )\n\n    cb(null, { ...context, store })\n  },\n  start: (app) => () => {\n    // store change\n    const { store } = app.context\n    const listeners = app.load_list('subscribe')\n    for (const listener of listeners) {\n      store.subscribe(listener)\n    }\n    app.load_list('on_create_store').forEach((callback) => callback(store))\n  }\n}\n\n// saga app\nconst sagaMiddleware = createSagaMiddleware()\nconst sage_app = {\n  context: (app) => (context, cb) => {\n    // extend store\n    const { store } = context\n    store.runSaga = sagaMiddleware.run\n\n    // start saga\n    const effects = app.load_list('effects')\n    effects.forEach(sagaMiddleware.run)\n    cb(null, context)\n  },\n  middlewares: (app) => { return sagaMiddleware }\n}\n\n// react & react-router app\nconst react_app = {\n  context: (app) => (context, cb) => {\n    app.go = (uri) => {\n      app.context.router.push(uri)\n    }\n    \n    const routerType = config('router', 'browser')\n    const router = (typeof routerType === 'string') ? {\n      browser: browserHistory,\n      hash: hashHistory\n    }[routerType] : routerType\n\n    cb(null, { ...context, router })\n  },\n  start: (app) => () => {\n    // init container\n    let { container } = app.context\n    if (typeof container === 'string') {\n      container = document.querySelector(container)\n    }\n\n    const rs = app.load_dict_list('routers')\n    const find_childs = (path) => {\n      return (rs[path] || []).map((r) => {\n        const childs = find_childs((path == '@' ? '' : path) + r.path)\n        return childs.length > 0 ? { ...r, childRoutes: [ ...(r.childRoutes||[]), ...childs ] } : r\n      })\n    }\n    const routers = find_childs('@')[0]\n\n    const RootComponent = app.load_list('root_component').reduce((PrevComponent, render) => {\n      return render(PrevComponent)\n    }, () => <Router history={app.context.router} routes={routers}/>)\n\n    ReactDOM.render(<RootComponent />, container)\n  }\n}\n\n// react-redux app\nconst react_redux_app = {\n  root_component: (app) => (PrevComponent) => {\n    const { store } = app.context\n    return () => (\n      <Provider store={store}><PrevComponent /></Provider>\n    )\n  }\n}\n\n\nif(window.__app == undefined) {\n  window.__app = new App()\n  window.__app.use(redux_app).use(sage_app).use(react_app).use(react_redux_app)\n}\nconst app = window.__app\n\nconst Block = (tag, element, props) => {\n  const blocks = app.load_dict_list('blocks')\n  if(blocks[tag] !== undefined) {\n    return blocks[tag].reduce((prev, block) => {\n      const ret = block({ nodes: prev, ...element.props, ...props })\n      if(ret !== undefined && ret != prev) {\n        if(Array.isArray(ret)) {\n          prev = prev.concat(ret)\n        } else {\n          prev.push(ret)\n        }\n      }\n      return prev\n    }, [])\n  }\n}\n\nconst BlockTag = ({ tag, children, props, ...extraProps }) => {\n  const blocks = app.load_dict_list('blocks') && app.load_dict_list('blocks')[tag]\n  if(blocks !== undefined) {\n    return blocks.reduce((prev, block) => {\n      const ret = block({ nodes: prev, ...props, ...extraProps })\n      if(ret !== undefined && ret != prev) {\n        if(Array.isArray(ret)) {\n          prev = prev.concat(ret)\n        } else {\n          prev.push(ret)\n        }\n      }\n      return prev\n    }, [ children ])\n  } else {\n    return children\n  }\n}\n\n// Helps track hot reloading.\nlet nextVersion = 0\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component'\n}\n\nconst shallowEqual = (objA, objB) => {\n  if (objA === objB) {\n    return true\n  }\n  const keysA = Object.keys(objA)\n  const keysB = Object.keys(objB)\n\n  if (keysA.length !== keysB.length) {\n    return false\n  }\n  // Test for A's keys different from B.\n  const hasOwn = Object.prototype.hasOwnProperty\n  for (let i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) ||\n        objA[keysA[i]] !== objB[keysA[i]]) {\n      return false\n    }\n  }\n  return true\n}\n\nconst _wrap_component = (tag, WrappedComponent, wrappers, defaultMapper) => {\n  const connectDisplayName = `Connect(${getDisplayName(WrappedComponent)})`\n  // Helps track hot reloading.\n  const version = nextVersion++\n\n  class Connect extends React.Component {\n\n    constructor(props, context) {\n      super(props, context)\n      this.version = version\n      this.stateContext = this.getState()\n      this.clearCache()\n\n      this.trySubscribe()\n    }\n\n    getState() {\n      const context = this.context\n      return wrappers.reduce((prev, wrapper) => {\n        if(wrapper.getState !== undefined) {\n          return { ...prev, ...wrapper.getState(context) }\n        } else {\n          return prev\n        }\n      }, {})\n    }\n\n    isSubscribed() {\n      return isPlainObject(this.unsubscribe)\n    }\n\n    trySubscribe() {\n      if (!this.unsubscribe) {\n        const callback = this.handleChange.bind(this)\n        const context = this.context\n        this.unsubscribe = wrappers.reduce((prev, wrapper) => {\n          if(wrapper.subscribe !== undefined) {\n            return { ...prev, ...wrapper.subscribe(context, callback) }\n          } else {\n            return prev\n          }\n        }, {})\n        //this.handleChange()\n      }\n    }\n\n    tryUnsubscribe() {\n      if (this.unsubscribe) {\n        const unsubscribe = this.unsubscribe\n        wrappers.forEach((wrapper) => {\n          if(wrapper.unsubscribe !== undefined) {\n            wrapper.unsubscribe(unsubscribe)\n          }\n        })\n        this.unsubscribe = null\n      }\n    }\n\n    componentDidMount() {\n      this.getMappers().forEach(mapper => {\n        if(mapper.event && mapper.event.mount) {\n          this.runBindMethod(mapper.event.mount, this)\n        }\n      })\n    }\n\n    componentWillUnmount() {\n      this.tryUnsubscribe()\n      this.getMappers().forEach(mapper => {\n        if(mapper.event && mapper.event.unmount) {\n          this.runBindMethod(mapper.event.unmount, this)\n        }\n      })\n      this.clearCache()\n    }\n\n    componentWillReceiveProps(nextProps) {\n      if(shallowEqual(nextProps, this.props)) {\n        return\n      }\n      this.getMappers().forEach(mapper => {\n        if(mapper.event && mapper.event.receiveProps) {\n          this.runBindMethod(mapper.event.receiveProps, nextProps)\n        }\n      })\n    }\n\n    clearCache() {\n      this.methodProps = null\n      this.dataProps = null\n      this.computeProps = null\n      this.wrapProps = null\n      this.mappers = null\n    }\n\n    getMappers() {\n      if(this.mappers == null) {\n        this.mappers = (defaultMapper !== undefined ? [ defaultMapper ] : []).concat(app.load_dict_list('mappers')[tag] || [])\n      }\n      return this.mappers\n    }\n\n    computeDataProps() {\n      const { stateContext, props } = this\n      return this.getMappers().reduce((prev, mapper) => {\n        if(mapper.data === undefined) {\n          return prev\n        }\n        return { ...prev, ...mapper.data(stateContext, props, prev) }\n      }, this.dataProps || {})\n    }\n\n    computeComputeProps() {\n      const { stateContext, props } = this\n      return this.getMappers().reduce((prev, mapper) => {\n        if(mapper.compute === undefined) {\n          return prev\n        }\n        return { ...prev, ...mapper.compute(stateContext, { ...props, ...this.dataProps }, prev) }\n      }, this.computeProps || {})\n    }\n\n    computeWrapProps() {\n      const { stateContext, props } = this\n      return wrappers.reduce((prev, wrapper) => {\n        if(wrapper.computeProps === undefined) {\n          return prev\n        }\n        return { ...prev, ...wrapper.computeProps(tag, stateContext, { ...props, ...this.dataProps }, prev) }\n      }, this.wrapProps || {})\n    }\n\n    runBindMethod(method, args) {\n      const { stateContext, props } = this\n      return method(stateContext, props, args)\n    }\n\n    computeMethodProps() {\n      const bindMethod = this.runBindMethod.bind(this)\n      return this.getMappers().reduce((prev, mapper) => {\n        if(mapper.method === undefined) {\n          return prev\n        }\n        const methods = mapper.method\n        let bindMethods = {}\n        for(let key in methods) {\n          const method = methods[key]\n          bindMethods[key] = (e) => {\n            return bindMethod(method)(e)\n          }\n        }\n        return { ...prev, ...bindMethods }\n      }, {})\n    }\n\n    updateDataProps() {\n      const nextDataProps = this.computeDataProps()\n      if (this.dataProps && shallowEqual(nextDataProps, this.dataProps)) {\n        return false\n      }\n      this.dataProps = nextDataProps\n      return true\n    }\n\n    handleChange() {\n      if (!this.unsubscribe) {\n        return\n      }\n      const newState = this.getState()\n      if (shallowEqual(newState, this.stateContext)) {\n        return\n      }\n      this.stateContext = newState\n\n      const haveDataPropsChanged = this.updateDataProps()\n      if(haveDataPropsChanged) {\n        this.forceUpdate()\n      }\n    }\n\n    render() {\n      if(this.dataProps == null) {\n        this.dataProps = this.computeDataProps()\n      }\n      this.computeProps = this.computeComputeProps()\n      if(this.methodProps == null) {\n        this.methodProps = this.computeMethodProps()\n      }\n      if(this.wrapProps == null) {\n        this.wrapProps = this.computeWrapProps()\n      }\n      return React.createElement(WrappedComponent,\n        { ...this.props, ...this.wrapProps, ...this.methodProps, ...this.dataProps, ...this.computeProps }\n      )\n    }\n  }\n\n  Connect.displayName = connectDisplayName\n  Connect.WrappedComponent = WrappedComponent\n  Connect.contextTypes = wrappers.reduce((prev, wrapper) => {\n    return { ...prev, ...wrapper.contextTypes }\n  }, {})\n\n  if (process.env.NODE_ENV !== 'production') {\n    Connect.prototype.componentWillUpdate = function componentWillUpdate() {\n      if (this.version === version) {\n        return\n      }\n      // We are hot reloading!\n      this.version = version\n      this.trySubscribe()\n      this.clearCache()\n    }\n  }\n  return Connect\n  //return hoistStatics(Connect, WrappedComponent) // will invoke the error \"cannot call class as a function\" in IE<=10\n}\n\nconst _wrap = (magic, mapper, wrappers=[]) => {\n  if(isPlainObject(magic)) {\n    return (arg1, arg2) => { return _wrap(arg1, arg2, [ ...wrappers, magic ]) }\n  } else {\n    return (component) => {\n      return _wrap_component(magic, component, wrappers, mapper)\n    }\n  }\n}\n\nconst Wrap = _wrap({\n  contextTypes: {\n    router: React.PropTypes.object.isRequired\n  },\n  getState: (context) => {\n    const { router } = context\n    return { router }\n  }\n})\n\nconst StoreWrap = Wrap({\n  contextTypes: {\n    store: React.PropTypes.object.isRequired\n  },\n  getState: (context) => {\n    const { store } = context\n    return { state: store.getState(), dispatch: store.dispatch }\n  },\n  subscribe: (context, callback) => {\n    const { store } = context\n    return { store: store.subscribe(callback) }\n  },\n  unsubscribe: (unsubscribe) => {\n    unsubscribe['store']()\n  }\n})\n\nconst config = (key, default_value) => {\n  return app.load_dict('config')[key] || default_value\n}\n\nexport default app\nexport {\n  app,\n  config,\n  Block,\n  BlockTag,\n  Wrap,\n  StoreWrap\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-core/src/index.js","import React from 'react'\nimport { Field, reducer as formReducer, reduxForm } from 'redux-form'\nimport { StoreWrap, app } from 'xadmin-core'\nimport { fieldBuilder, objectBuilder } from './builder'\n\nimport Ajv from 'ajv'\nimport _ from 'lodash'\nimport ajvLocalize from './locales'\nimport { convert as schemaConvert } from './schema'\n\nconst ajv = new Ajv({ allErrors: true, v5: true, verbose: true })\n\nconst BaseForm = (props) => {\n  const { fields, render, option, component, handleSubmit, ...formProps } = props\n  const build_fields = objectBuilder(fields, render, { ...option, ...formProps })\n  if(component) {\n    const FormComponent = component\n    return <FormComponent {...props} >{build_fields}</FormComponent>\n  } else {\n    return (\n      <form className=\"form-horizontal\" onSubmit={handleSubmit}>{build_fields}</form>\n    )\n  }\n}\n\nconst validateByFields = (errors, values, fields) => {\n  fields.forEach(field => {\n    if(_.isFunction(field.validate)) {\n      const name = field.name\n      const err = field.validate(_.get(values, field.name) || null, values)\n      if(_.isArray(err)) {\n        errors[name] = [ ...(errors[name] || []), ...err ]\n      } else if(err) {\n        errors[name] = [ ...(errors[name] || []), err ]\n      }\n    }\n  })\n  return errors\n}\n\nconst Form = (props) => {\n  const { formKey, validate, fields } = props\n  const WrapForm = reduxForm({ \n    form: formKey,\n    validate: (values) => {\n      let errors = validate ? validate(values) : {}\n      return validateByFields(errors, values, fields)\n    }\n  })(BaseForm)\n  return <WrapForm {...props}/>\n}\n\nconst SchemaForm = (props) => {\n  const { formKey, schema } = props\n  const ajValidate = ajv.compile(schema)\n  const fields = schemaConvert(schema).fields\n  \n  const WrapForm = reduxForm({ \n    form: formKey,\n    validate: (values) => {\n      const valid = ajValidate(_.omitBy(values, v=> v == null || v === undefined || v === ''))\n      if(!valid) {\n        const { i18n } = app.context\n        if(ajvLocalize[i18n.language]) {\n          ajvLocalize[i18n.language](ajValidate.errors)\n        }\n      }\n      let errors = valid ? {} : ajValidate.errors.reduce((prev, err) => {\n        if(err.dataPath.length > 1) {\n          prev[err.dataPath.substr(1)] = err.message\n        } else if(err.dataPath == '' && err.keyword == 'required') {\n          prev[err.params.missingProperty] = err.message\n        }\n        return prev\n      }, {})\n      errors = validateByFields(errors, values, fields)\n      return errors\n    }\n  })(BaseForm)\n  return <WrapForm fields={fields} {...props}/>\n}\n\nconst FormWrap = StoreWrap({\n  contextTypes: {\n    _reduxForm: React.PropTypes.object.isRequired\n  },\n  getState: (context) => {\n    const { store, _reduxForm } = context\n    return { form: _reduxForm, formState: _reduxForm.getFormState(store.getState()) }\n  }\n})\n\nexport default {\n  BaseForm,\n  Form,\n  SchemaForm,\n  FormWrap,\n  fieldBuilder,\n  objectBuilder,\n  schemaConvert\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/base.js","import React from 'react'\nimport { Field, reduxForm, reducer as formReducer } from 'redux-form'\nimport { app, StoreWrap } from 'xadmin-core'\nimport { FieldGroup } from './components/base'\n\nconst defaultUIRender = (fields, option) => {\n  return fields.map(field => fieldBuilder(field, option))\n}\n\nconst objectBuilder = (fields, render, option) => {\n  const fields_defined = app.load_dict('form_fields')\n  const fields_wraped = fields\n    .filter(field => field.type === undefined || fields_defined[field.type] !== undefined)\n    .map(field => { return { ...fields_defined[field.type || 'text'], ...field, option } })\n\n  return (render || defaultUIRender)(fields_wraped, option)\n}\n\nconst fieldBuilder = (field, option, ...props) => {\n  return (<Field key={field.key} name={field.name} label={field.label} \n    normalize={field.normalize} parse={field.parse} format={field.format}\n    component={field.component} field={field} \n    group={field.group || (option && option.group ? option.group : FieldGroup)} \n    option={option}\n    {...props} />)\n}\n\nconst prefixFieldKey = (field, prefix) => {\n  const f = { ...field, key: prefix + field.key, name: prefix + field.name }\n  if(field.fields && field.fields.length > 0) {\n    f.fields = field.fields.map(cf => prefixFieldKey(cf, prefix))\n  }\n  return f\n}\n\nexport default {\n  defaultUIRender,\n  objectBuilder,\n  fieldBuilder,\n  prefixFieldKey\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/builder.js","import React from 'react'\nimport { FieldArray } from 'redux-form'\nimport { FieldGroup } from './base'\nimport { Panel, Button, PanelGroup } from 'react-bootstrap'\nimport { objectBuilder, prefixFieldKey } from '../builder'\nimport Icon from 'react-fontawesome'\nimport app from 'xadmin-core'\n\nconst defaultItemsRender = ({ fields, meta: { touched, error }, field, fieldsBuilder }) => {\n  const { items, label } = field\n  return (\n    <div>\n      <h5>{label}{' '}\n      <Button bsSize=\"xsmall\" onClick={() => fields.push()}><Icon name=\"plus\"/></Button></h5>\n      <PanelGroup accordion>\n        {fields.map((name, index) => {\n          const removeBtn = (<Button bsSize=\"xsmall\" onClick={() => fields.remove(index)} style={{ float: 'right' }}><Icon name=\"minus\"/></Button>)\n          const itemLable = (<h6>{label + ' ' + (index + 1)}{removeBtn}</h6>)\n          const fieldsComponent = fieldsBuilder(name, index, removeBtn)\n          return fieldsComponent.length > 1 ? (\n            <Panel header={itemLable} eventKey={index} key={`items${index}`}>\n            {fieldsComponent}\n            </Panel>\n          ) : (\n            <div>{fieldsComponent}</div>\n          )\n        })}\n      </PanelGroup>\n      {(touched && error) ? error : null}\n    </div>\n  )\n}\n\nexport default ({ input, label, meta: { touched, error }, field, option }) => {\n  let renderItems = field.itemsRender || defaultItemsRender\n  if(typeof renderItems === 'string') {\n    renderItems = app.load_dict('array_render')[renderItems]\n  }\n  const { items } = field\n  const fieldsBuilder = (name, index, removeBtn, itemLable) => {\n    const label = itemLable || (<div>{removeBtn ? removeBtn : ''}{label + ' ' + (index + 1)}</div>)\n    const itemFields = items.fields ? \n      (items.fields.map(f => prefixFieldKey(f, name + '.'))) : \n      [ { ...items, key: name, name: name, label } ]\n\n    return objectBuilder(itemFields, items.render, option)\n  }\n  return <FieldArray name={field.name} label={label} component={renderItems} field={field} fieldsBuilder={fieldsBuilder} />\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Array.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { FormControl, Checkbox } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={''} meta={meta} input={input} field={field}>\n      <Checkbox checked={!!input.value} {...input} {...field.attrs} >{label}</Checkbox>\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Checkbox.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport moment from 'moment'\nimport Icon from 'react-fontawesome'\nimport { FormControl, InputGroup } from 'react-bootstrap'\nimport DateTimeField from 'react-datetime'\nrequire('react-datetime/css/react-datetime.css')\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  const { onChange, onBlur, onFocus, value, ...inputProps } = input\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <InputGroup style={{ maxWidth: 280 }}>\n        <DateTimeField inputProps={inputProps} onChange={onChange} onBlur={onBlur} onFocus={onFocus} {...field.attrs} value={moment(value)} />\n        <InputGroup.Addon><Icon name=\"calendar\"/></InputGroup.Addon>\n      </InputGroup>\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/DateTime.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { Panel } from 'react-bootstrap'\nimport { objectBuilder } from '../builder'\n\nexport default ({ input, label, meta: { touched, error }, field, group, option }) => {\n  return (\n    <Panel collapsible defaultExpanded header={<h3>{label}</h3>}>\n      {objectBuilder(field.fields, field.render, { ...option, group })}\n    </Panel>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Fieldset.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { Radio, Button, ButtonToolbar } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <ButtonToolbar>\n      {field.titleMap.map(option => { \n        return (<Button key={option.value} \n          bsStyle={option.value==input.value?'primary':'default'} active={option.value==input.value} \n          {...input} \n          onClick={()=>{input.onChange(option.value)}}>{option.name}</Button>) \n      })}\n      </ButtonToolbar>\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/RadioBtn.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { Radio } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  const inline = field.attrs !== undefined && !!field.attrs.inline\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      {field.titleMap.map(option => { return (<Radio key={option.value} checked={option.value==input.value} inline={inline} {...input} value={option.value}> {option.name}</Radio>) })}\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Radios.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { FormControl } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <FormControl componentClass=\"select\" \n        {...input} >\n        {[ { name: '----', value: '' }, ...field.titleMap ].map(option => { return (<option key={option.name} value={option.value}>{option.name}</option>) })}\n      </FormControl>\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Select.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { FormControl, InputGroup } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <FormControl {...input} {...field.attrs} />\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Text.js","import React from 'react'\nimport { Field } from 'redux-form'\nimport { FormControl } from 'react-bootstrap'\n\nexport default ({ input, label, meta, field, group: FieldGroup }) => {\n  return (\n    <FieldGroup label={label} meta={meta} input={input} field={field}>\n      <FormControl componentClass=\"textarea\" {...input} {...field.attrs} />\n    </FieldGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/Textarea.js","import React from 'react'\nimport { FormGroup, ControlLabel, FormControl, Col, HelpBlock } from 'react-bootstrap'\n\nconst FieldGroup = ({ label, meta, input, field, children }) => {\n  const groupProps = {}\n  const attrs = field.attrs || {}\n  const error = meta.touched && meta.error\n  const help = field.description || field.help\n  const size = (field.option && field.option.groupSize) || attrs.groupSize || { \n    label: {\n      sm: 4, md: 3, lg: 2 \n    },\n    control: {\n      sm: 8, md: 9, lg: 10\n    }\n  }\n\n  if (error) {\n    groupProps['validationState'] = 'error'\n  }\n  if (attrs.bsSize) {\n    groupProps['bsSize'] = attrs.bsSize\n  }\n  if (attrs.bsStyle) {\n    groupProps['bsStyle'] = attrs.bsStyle\n  }\n\n  const controlComponent = children ? children : (<FormControl {...input} {...attrs} />)\n  return (\n    <FormGroup controlId={input.name} {...groupProps}>\n      <Col key={0} componentClass={ControlLabel} {...size.label}>\n        {label}{field && field.required ? <span className=\"text-danger\">*</span> : ''}\n      </Col>\n      <Col key={1} {...size.control}>\n        {controlComponent}\n        <FormControl.Feedback />\n        {help && <HelpBlock>{help}</HelpBlock>}\n        {error && <HelpBlock>{error}</HelpBlock>}\n      </Col>\n    </FormGroup>\n    )\n}\n\nconst InlineGroup = ({ label, meta, input, field, children }) => {\n  const groupProps = {}\n  const attrs = field.attrs || {}\n  const error = meta.touched && meta.error\n  const help = field.description || field.help\n\n  if (error) {\n    groupProps['validationState'] = 'error'\n  }\n  if (attrs.bsSize) {\n    groupProps['bsSize'] = attrs.bsSize\n  }\n  if (attrs.bsStyle) {\n    groupProps['bsStyle'] = attrs.bsStyle\n  }\n\n  const controlComponent = children ? children : (<FormControl {...input} {...attrs} placeholder={label} />)\n  return (\n    <FormGroup controlId={input.name} {...groupProps}>\n      <Col sm={12}>\n        {controlComponent}\n        {help && <HelpBlock>{help}</HelpBlock>}\n        {error && <HelpBlock>{error}</HelpBlock>}\n      </Col>\n    </FormGroup>\n    )\n}\n\nconst SimpleGroup = ({ label, meta, input, field, children }) => {\n  const groupProps = {}\n  const attrs = field.attrs || {}\n  const error = meta.touched && meta.error\n  const help = field.description || field.help\n\n  if (error) {\n    groupProps['validationState'] = 'error'\n  }\n  if (attrs.bsSize) {\n    groupProps['bsSize'] = attrs.bsSize\n  }\n  if (attrs.bsStyle) {\n    groupProps['bsStyle'] = attrs.bsStyle\n  }\n\n  const controlComponent = children ? children : (<FormControl {...input} {...attrs} placeholder={label} />)\n  return (\n    <FormGroup controlId={input.name} {...groupProps}>\n      <ControlLabel>{label}{field && field.required ? <span className=\"text-danger\">*</span> : ''}</ControlLabel>\n      {controlComponent}\n      {help && <HelpBlock>{help}</HelpBlock>}\n      {error && <HelpBlock>{error}</HelpBlock>}\n    </FormGroup>\n    )\n}\n\nexport default {\n  FieldGroup,\n  InlineGroup,\n  SimpleGroup\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/base.js","import Text from './Text'\nimport Select from './Select'\n//import Selectize from './Selectize'\nimport Checkbox from './Checkbox'\nimport Radios from './Radios'\nimport RadioBtn from './RadioBtn'\nimport Textarea from './Textarea'\nimport DateTime from './DateTime'\nimport Fieldset from './Fieldset'\nimport ArrayWidget from './Array'\n\nexport default {\n  Text,\n  Select,\n  Checkbox,\n  Radios,\n  RadioBtn,\n  Textarea,\n  DateTime,\n  Fieldset,\n  ArrayWidget\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/components/index.js","import widgets from './components'\n\nexport default {\n  text: {\n    component: widgets.Text\n  },\n  number: {\n    component: widgets.Text,\n    normalize: (value, previousValue) => {\n      const ret = parseFloat(value)\n      return Number.isNaN(ret) ? value : ret\n    },\n    attrs: {\n      type: 'number',\n      style: { maxWidth: 200 }\n    }\n  },\n  integer: {\n    component: widgets.Text,\n    normalize: (value, previousValue) => {\n      const ret = parseInt(value)\n      return Number.isNaN(ret) ? value : ret\n    },\n    attrs: {\n      type: 'number',\n      style: { maxWidth: 200 }\n    }\n  },\n  select: {\n    component: widgets.Select\n  },\n  numselect: {\n    component: widgets.Select,\n    normalize: (value, previousValue) => {\n      const ret = parseFloat(value)\n      return Number.isNaN(ret) ? value : ret\n    }\n  },\n  date: {\n    component: widgets.DateTime,\n    normalize: (value, previousValue) => {\n      return (value && value.format) ? value.format('YYYY-MM-DD') : value || previousValue\n    },\n    attrs: {\n      dateFormat: true,\n      timeFormat: false,\n      valueFormat: 'L'\n    }\n  },\n  time: {\n    component: widgets.DateTime,\n    normalize: (value, previousValue) => {\n      return (value && value.format) ? value.format('HH:mm:ss') : value || previousValue\n    },\n    attrs: {\n      dateFormat: false,\n      timeFormat: true,\n      viewMode: 'time',\n      valueFormat: 'LT'\n    }\n  },\n  datetime: {\n    component: widgets.DateTime,\n    normalize: (value, previousValue) => {\n      return (value && value.format) ? value.format('YYYY-MM-DD HH:mm:ss') : value || previousValue\n    },\n    attrs: {\n      dateFormat: true,\n      timeFormat: true,\n      valueFormat: 'L LT'\n    }\n  },\n  bool: {\n    component: widgets.Checkbox,\n    normalize: (value, previousValue) => {\n      return Boolean(value)\n    }\n  },\n  checkbox: {\n    component: widgets.Checkbox\n  },\n  fieldset: {\n    component: widgets.Fieldset\n  },\n  array: {\n    component: widgets.ArrayWidget\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/fields.js","import React from 'react'\nimport { Field, reduxForm, reducer as formReducer, SubmissionError } from 'redux-form'\nimport Ajv from 'ajv'\nimport default_fields from './fields'\nimport { converters } from './schema'\n\nimport {\n  BaseForm,\n  Form,\n  SchemaForm,\n  FormWrap,\n  fieldBuilder,\n  objectBuilder,\n  schemaConvert\n} from './base'\n\nconst ajv = new Ajv({ allErrors: true })\n\nconst module = {\n  start: (app) => () => {\n    app.load_list('ajv_key').forEach(args => {\n      ajv.addKeyword(args[0], args[1])\n    })\n    app.load_list('ajv_format').forEach(args => {\n      ajv.addFormat(args[0], args[1])\n    })\n  },\n  reducers: (app) => {\n    const plugins = app.load_dict('form_reducer')\n    return { form: formReducer.plugin(plugins) }\n  },\n  form_fields: default_fields,\n  schema_converter: converters\n}\n\n//export default module\nexport {\n  BaseForm,\n  Form,\n  SchemaForm,\n  FormWrap,\n  fieldBuilder,\n  objectBuilder,\n  schemaConvert,\n  SubmissionError\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/index.js","import { en } from 'ajv-i18n'\n\nexport default (errors) => {\n  en(errors)\n\n  if (!(errors && errors.length)) return\n  for (let i = 0 ; i < errors.length; i++) {\n    let e = errors[i]\n    let out\n    let schema = e.schema\n    switch (e.keyword) {\n      case 'required': {\n        const pname = e.params.missingProperty\n        out = ((e.schema[pname] && e.schema[pname].title) || pname) + ' should required'\n        break\n      }\n      default:\n        continue\n    }\n    e.message = out\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/en.js","import ajvI18N from 'ajv-i18n'\nimport zh_Hans from './zh_Hans'\nimport en from './en'\n\nexport default {\n  ...ajvI18N,\n  en,\n  zh_Hans \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/index.js","\nexport default (errors) => {\n  if (!(errors && errors.length)) return\n  for (let i = 0 ; i < errors.length; i++) {\n    let e = errors[i]\n    let out\n    let schema = e.schema\n    switch (e.keyword) {\n      case '$ref': {\n        out = '无法找到引用' + (e.params.ref)\n        break\n      }\n      case 'additionalItems': {\n        out = ''\n        let n = e.params.limit\n        out += '不允许超过' + (n) + '个元素'\n        break\n      }\n      case 'additionalProperties': {\n        out = '不允许有额外的属性'\n        break\n      }\n      case 'anyOf': {\n        out = '数据应为 anyOf 所指定的其中一个'\n        break\n      }\n      case 'constant': {\n        out = schema.constantName ? ('与 ' + schema.constantName + ' 不相等') : '应当等于常量'\n        break\n      }\n      case 'custom': {\n        out = '应当通过 \"' + (e.keyword) + ' 关键词校验\"'\n        break\n      }\n      case 'dependencies': {\n        out = ''\n        let n = e.params.depsCount\n        out += '应当拥有属性' + (e.params.property) + '的依赖属性' + (e.params.deps)\n        break\n      }\n      case 'enum': {\n        out = '应当是预设定的枚举值之一'\n        break\n      }\n      case 'format': {\n        out = '应当匹配格式' + (e.params.format)\n        break\n      }\n      case 'formatExclusiveMaximum': {\n        out = 'formatExclusiveMaximum 应当是布尔值'\n        break\n      }\n      case 'formatExclusiveMinimum': {\n        out = 'formatExclusiveMinimum 应当是布尔值'\n        break\n      }\n      case 'formatMaximum': {\n        out = ''\n        let cond = e.params.comparison + ' ' + e.params.limit\n        out += '应当是 ' + (cond)\n        break\n      }\n      case 'formatMinimum': {\n        out = ''\n        let cond = e.params.comparison + ' ' + e.params.limit\n        out += '应当是 ' + (cond)\n        break\n      }\n      case 'maxItems': {\n        out = ''\n        let n = e.params.limit\n        out += '不应多于 ' + (n) + ' 个项'\n        break\n      }\n      case 'maxLength': {\n        out = ''\n        let n = e.params.limit\n        out += '不应多于 ' + (n) + ' 个字符'\n        break\n      }\n      case 'maxProperties': {\n        out = ''\n        let n = e.params.limit\n        out += '不应有多于 ' + (n) + ' 个属性'\n        break\n      }\n      case 'maximum': {\n        out = ''\n        let cond = e.params.comparison + ' ' + e.params.limit\n        out += '应当为 ' + (cond)\n        break\n      }\n      case 'minItems': {\n        out = ''\n        let n = e.params.limit\n        out += '不应少于 ' + (n) + ' 个项'\n        break\n      }\n      case 'minLength': {\n        out = ''\n        let n = e.params.limit\n        out += '不应少于 ' + (n) + ' 个字符'\n        break\n      }\n      case 'minProperties': {\n        out = ''\n        let n = e.params.limit\n        out += '不应有少于 ' + (n) + ' 个属性'\n        break\n      }\n      case 'minimum': {\n        out = ''\n        let cond = e.params.comparison + ' ' + e.params.limit\n        out += '应当为 ' + (cond)\n        break\n      }\n      case 'multipleOf': {\n        out = '应当是 ' + (e.params.multipleOf) + ' 的整数倍'\n        break\n      }\n      case 'not': {\n        out = '不应当匹配 \"not\" schema'\n        break\n      }\n      case 'oneOf': {\n        out = '只能匹配一个 oneOf 中的 schema'\n        break\n      }\n      case 'pattern': {\n        out = '应当匹配模式 \"' + (e.params.pattern) + '\"'\n        break\n      }\n      case 'patternGroups': {\n        out = ''\n        let n = e.params.limit\n        out += '应当有 ' + (n) + ' 个 ' + (e.params.reason) + ' 属性满足模式 ' + (e.params.pattern)\n        break\n      }\n      case 'patternRequired': {\n        out = '应当有属性匹配模式 ' + (e.params.missingPattern)\n        break\n      }\n      case 'required': {\n        const pname = e.params.missingProperty\n        out = ((e.schema[pname] && e.schema[pname].title) || pname) + '不能为空'\n        break\n      }\n      case 'switch': {\n        out = '由于 ' + (e.params.caseIndex) + ' 失败，未通过 \"switch\" 校验, '\n        break\n      }\n      case 'type': {\n        out = '应当是 ' + (e.params.type) + ' 类型'\n        break\n      }\n      case 'uniqueItems': {\n        out = '不应当含有重复项 (第 ' + (e.params.j) + ' 项与第 ' + (e.params.i) + ' 项是重复的)'\n        break\n      }\n      default:\n        continue\n    }\n    e.message = out\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/locales/zh_Hans.js","import _ from 'lodash'\nimport { app } from 'xadmin-core'\n\nconst stripNullType = (type) => {\n  if(Array.isArray(type) && type.length == 2) {\n    if (type[0] === 'null')\n      return type[1]\n    if (type[1] === 'null')\n      return type[0]\n  }\n  return type\n}\n\nconst enumToTitleMap = (enm, title) => {\n  let titleMap = []\n  enm.forEach((name, index) => {\n    titleMap.push({ name: \n      title != undefined ? (( _.isArray(title) ? title[index] : title[name] )  || name) : name, value: name })\n  })\n  return titleMap\n}\n\nconst canonicalTitleMap = (titleMap, originalEnum) => {\n  if(!_.isArray(titleMap)) {\n    let canonical = []\n    if (originalEnum) {\n      originalEnum.forEach(value => {\n        canonical.push({ name: titleMap[value], value: value })\n      })\n    } else {\n      for(let k in titleMap) {\n        if (titleMap.hasOwnProperty(k)) {\n          canonical.push({ name: k, value: titleMap[k] })\n        }\n      }\n    }\n    return canonical\n  }\n  return titleMap\n}\n\nconst convert = (schema, options) => {\n  const opts = options || {}\n  if(opts.path === undefined) {\n    opts.path = []\n  }\n  if(opts.lookup === undefined) {\n    opts.lookup = {}\n  }\n  return app.load_list(opts.convert_key || 'schema_converter').reduce((prve, converter) => {\n    return converter(prve, schema, opts)\n  }, opts.global && opts.global.formDefaults ? _.cloneDeep(opts.global.formDefaults) : {})\n}\n\nconst converters = [\n  // all form field\n  (f, schema, options) => {\n    const { path, readonly, required, lookup } = options\n\n    const fieldKey = path.length > 0 ? path[path.length - 1] : undefined\n    f.key = path.join('.')\n\n    f.name = f.key\n    f.label = schema.title || _.startCase(fieldKey)\n\n    if(fieldKey !== undefined) {\n      if (readonly && readonly.indexOf(fieldKey) !== -1) { f.readonly  = true }\n      if (required && required.indexOf(fieldKey) !== -1) { f.required  = true }\n    }\n\n    if (schema.description) { f.description = schema.description }\n    if (schema.maxLength) { f.maxlength = schema.maxLength }\n    if (schema.minLength) { f.minlength = schema.minLength }\n    if (schema.minimum) { f.minimum = schema.minimum + (schema.exclusiveMinimum ? 1 : 0) }\n    if (schema.maximum) { f.maximum = schema.maximum - (schema.exclusiveMaximum ? 1 : 0) }\n\n    if (schema.validationMessage) { f.validationMessage = schema.validationMessage }\n    if (schema.enumNames) { f.titleMap = canonicalTitleMap(schema.enumNames, schema['enum']) }\n\n    f.schema = schema\n    lookup[f.key] = f\n\n    return f\n  },\n  // object\n  (f, schema, options) => {\n    if(stripNullType(schema.type) === 'object') {\n      f.type = 'fieldset'\n\n      const props = schema.properties\n      const opts = { ...options }\n\n      opts.required = schema.required || []\n      opts.readonly = schema.readonly || []\n      opts.ignore = schema.ignore || []\n\n      let { keys, form } = (schema.form || [ '*' ]).reduce((ret, field) => {\n        if(typeof field === 'string') {\n          if(field != '*' || ret.keys.indexOf('*') == -1) {\n            ret.keys.push(field)\n          }\n          if(field != '*') {\n            ret.form[field] = { key: field }\n          }\n        } else if( field.key !== undefined) {\n          ret.keys.push(field.key)\n          ret.form[field.key] = field\n        }\n        return ret\n      }, { keys: [], form: {} })\n\n      const idx = keys.indexOf('*')\n\n      if(idx !== -1) {\n        keys = keys.slice(0, idx)\n          .concat(Object.keys(props).filter(pk => keys.indexOf(pk) == -1))\n          .concat(keys.slice(idx + 1))\n      }\n\n      const fields = keys.filter(key => opts.ignore.indexOf(key) === -1).map(key => {\n        opts.path = [ ...options.path, key ]\n        return props[key] !== undefined ? _.merge(convert(props[key], opts), form[key] || {}) : form[key]\n      })\n\n      f.render = schema.form_render\n      f.fields = fields\n    }\n    return f\n  },\n  // array\n  (f, schema, options) => {\n    if(stripNullType(schema.type) === 'array') {\n      f.type = 'array'\n\n      if(typeof schema.items !== 'undefined') {\n        f.items = convert(schema.items, { ...options, path: [] })\n      }\n      if(schema.itemsRender)\n        f.itemsRender = schema.itemsRender\n    }\n    return f\n  },\n  // all normal type form field\n  (f, schema, options) => {\n    if(f.type !== undefined) {\n      return f\n    }\n    const schema_type = stripNullType(schema.type)\n    if(schema_type === 'string') {\n      if(!schema['enum']) {\n        f.type = 'text'\n      } else {\n        f.type = 'select'\n        if (!f.titleMap) {\n          f.titleMap = enumToTitleMap(schema['enum'], schema['enum_title'] || {})\n        }\n      }\n      switch(schema.format) {\n        case 'date':\n          f.type = 'date'\n          break\n        case 'time':\n          f.type = 'time'\n          break\n        case 'datetime':\n          f.type = 'datetime'\n          break\n      }\n    } else if(schema_type === 'number') {\n      if(!schema['enum']) {\n        f.type = 'number'\n      } else {\n        f.type = 'numselect'\n        if (!f.titleMap) {\n          f.titleMap = enumToTitleMap(schema['enum'], schema['enum_title'] || {})\n        }\n      }\n    } else if(schema_type === 'integer') {\n      if(!schema['enum']) {\n        f.type = 'integer'\n      } else {\n        f.type = 'numselect'\n        if (!f.titleMap) {\n          f.titleMap = enumToTitleMap(schema['enum'], schema['enum_title'] || {})\n        }\n      }\n    } else if(schema_type === 'boolean') {\n      f.type = 'checkbox'\n    }\n    return f\n  }\n]\n\nexport {\n  convert,\n  converters\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-form/src/schema.js","import _ from 'lodash'\nimport moment from 'moment'\nimport i18next from 'i18next'\nimport XHR from 'i18next-xhr-backend'\nimport Cache from 'i18next-localstorage-cache'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\nimport zh_Hans from './zh_Hans/translation.json'\n\nconst locales = {\n  zh_Hans: {\n    translation: zh_Hans\n  }\n}\n\nexport default {\n  name: 'xadmin.i18n',\n  context: (app) => (context, cb) => {\n    const resources = app.load_dict_list('locales')\n    const { locale } = app.load_dict('config')\n    for(let ln in resources) {\n      resources[ln] = _.merge({}, ...resources[ln])\n    }\n    i18next\n      .use(XHR) // or any other backend implementation\n      .use(Cache) // or any other cache implementation\n      .use(LanguageDetector) // or any other implementation\n      .init({\n        debug: false,\n        lng: 'en',\n        fallbackLng: false,\n        keySeparator: false,\n        nsSeparator: false,\n        resources,\n        ...(locale || {})\n      }, (err, t) => {\n        moment.locale((locale && locale.moment) || 'en')\n        cb(null, { ...context, _t: t, i18n: i18next })\n      })\n  },\n  locales\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-i18n/src/index.js","module.exports = {\"Actions\":\"操作\",\"Add {{object}}\":\"添加{{object}}\",\"Batch Change Items\":\"批量修改\",\"Batch Delete Items\":\"批量删除\",\"Batch Save {{object}} success\":\"批量保存 {{object}} 成功\",\"Captcha Code\":\"验证码\",\"Change\":\"修改\",\"Change Password\":\"修改密码\",\"Change password\":\"修改密码\",\"Change password success\":\"修改密码成功\",\"Clear\":\"清除\",\"Clear order\":\"取消排序\",\"Click to refresh captcha code\":\"点击更新验证码\",\"Close\":\"关闭\",\"Columns\":\"显示列\",\"Comfirm\":\"确认\",\"Comfirm Delete\":\"确认删除\",\"Confirm to delete selected items\":\"请确认删除选择的条目\",\"Create {{name}}\":\"创建{{name}}\",\"Create {{object}} success\":\"添加{{object}}成功\",\"Create {{title}}\":\"添加{{title}}\",\"Customize page size\":\"自定义每页数目\",\"Date Joined\":\"注册日期\",\"Delete\":\"删除\",\"Delete {{object}} success\":\"删除{{object}}成功\",\"Description\":\"描述\",\"Edit\":\"修改\",\"Edit {{name}}\":\"编辑{{name}}\",\"Edit {{title}}\":\"修改{{title}}\",\"Email\":\"Email\",\"Email Verified\":\"Email已验证\",\"Enter page size\":\"输入每页数目\",\"Filter\":\"过滤\",\"Filter Form\":\"数据过滤表单\",\"Forgot password\":\"忘记密码\",\"Have account\":\"已注册账号\",\"Incorrect old password\":\"原密码输入错误\",\"Incorrect username or password\":\"用户名或密码错误\",\"Is SuperUser\":\"超级用户\",\"Login\":\"登录\",\"Logout\":\"退出\",\"Name\":\"姓名\",\"New Password\":\"新密码\",\"No Data\":\"暂无数据\",\"No data selected\":\"未选择任何数据\",\"No paging\":\"无分页\",\"No results found\":\"未找到数据\",\"Not registed\":\"还没有注册\",\"Null\":\"空\",\"Old Password\":\"原密码\",\"Page Size\":\"每页数目\",\"Password\":\"密码\",\"Permission\":\"权限\",\"Please Login\":\"请您登录\",\"Please Signup\":\"请您注册\",\"Please be sure to complete all field\":\"请您填写完整所有表单项\",\"Please input the value to batch change items\":\"批量修改数据\",\"Register Email\":\"注册的Email\",\"Register success\":\"注册用户成功\",\"Repeat Password\":\"重复密码\",\"Reset Password\":\"重置密码\",\"Reset password success\":\"重置密码成功\",\"Role\":\"角色\",\"Save\":\"保存\",\"Save {{object}} success\":\"保存{{object}}成功\",\"Search\":\"搜索\",\"Search {{label}}\":\"搜索{{label}}\",\"Select {{label}}\":\"选择{{label}}\",\"Send Email to Reset Password\":\"发送重置密码邮件\",\"Send reset password email success\":\"发送重置密码邮件成功，请查收邮件\",\"Send verify code to your email, please check\":\"已发送重置密码邮件到您的邮箱，请查收邮件\",\"Set page size\":\"设置每页数目\",\"Set {{size}} per page\":\"每页{{size}}条\",\"Sign In\":\"登录\",\"Sign Up\":\"注册\",\"Signup\":\"注册\",\"Sort ASC\":\"正序\",\"Sort DESC\":\"倒序\",\"Success\":\"成功\",\"Successfully logged out\":\"成功退出\",\"User\":\"用户\",\"User Name\":\"用户名\",\"Username\":\"用户名\",\"Verify email success, please login\":\"邮箱验证成功，请您登录\",\"loading\":\"加载中\",\"please login\":\"请您登录\",\"please signup\":\"立即注册\",\"reset password\":\"重置密码\",\"type a few characters to kick off remote search\":\"请输入内容进行搜索\",\"{{count}} record selected\":\"已选择 {{count}} 条数据\",\"{{count}} records\":\"{{count}} 条数据\",\"{{name}} Detail\":\"{{name}}详情\",\"{{name}} List\":\"{{name}}列表\",\"{{size}} per page\":\"每页{{size}}条\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/tianmiao/workspace/xadmin3/packages/xadmin-i18n/src/zh_Hans/translation.json\n// module id = ../../xadmin-i18n/src/zh_Hans/translation.json\n// module chunks = 0","import React from 'react'\nimport { app, StoreWrap } from 'xadmin-core'\n\nimport i18n from 'xadmin-i18n'\nimport form, {\n  SchemaForm\n} from 'xadmin-form'\n\n\nconsole.log(form, SchemaForm)\n@StoreWrap('hello')\nclass Hello extends React.Component {\n\n  onSubmit(values) {\n    const { count, add } = this.props\n    console.log(values)\n    add(values)\n  }\n\n  render() {\n    const { count, add } = this.props\n    const { _t } = app.context\n\n    const FormLayout = (props) => {\n      const { children, invalid, handleSubmit, submitSucceeded, submitting, isCreate } = props\n      return (\n        <form className=\"form-horizontal\">\n          {children}\n          <a onClick={handleSubmit} >{_t('Add Count')}</a>\n        </form>\n      )\n    }\n\n    return (\n      <div>\n        {count} \n        <SchemaForm formKey=\"DemoForm\"\n          schema={{\n            type: 'object',\n            properties: {\n              count: {\n                type: 'number',\n                title: '增加数字'\n              },\n              type: {\n                type: 'string',\n                title: '数据类型',\n                enum: [ '资产数据', '设备数据' ]\n              }\n            }\n          }}\n          onSubmit={this.onSubmit.bind(this)}\n          component={FormLayout}/>\n      </div>\n    )\n  }\n}\n\napp\n.use(i18n)\n.use(form)\n.use({\n  config: {\n    locale: {\n      lng: 'zh_Hans'\n    }\n  },\n  locales: {\n    zh_Hans: {\n      translation: {\n        'Add Count': '添加数字'\n      }\n    }\n  },\n  mappers: {\n    hello: {\n      data: ({ state }, props ) => {\n        return { count: state.count }\n      },\n      method: {\n        add: ({ dispatch }) => (values) => {\n          dispatch({ type: 'ADD', ...values })\n        }\n      }\n    }\n  },\n  reducers: {\n    count: (state=0, action) => {\n      if(action.type == 'ADD') {\n        return state + action.count\n      }\n      return state\n    }\n  },\n  routers: {\n    '@': {\n      path: '/',\n      component: Hello \n    }\n  }\n}).start({ container: '#app' })\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}